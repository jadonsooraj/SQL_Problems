--585. Investments in 2016

--Tables:
1. Insurance: pid, tiv_2015, tiv_2016, lat, lon

--Conditions:
1. Write a solution to report the sum of all total investment values in 2016 tiv_2016, for all policyholders who: 
	a) have the same tiv_2015 value as one or more other policyholders, and
	b) are not located in the same city as any other policyholder.
2. Round tiv_2016 to two decimal places.

--output: tiv_2016

--CODE:

SELECT
round(sum(tiv_2016),2) as tiv_2016
FROM insurance
where tiv_2015 IN (SELECT tiv_2015 FROM insurance group by 1 having count(*)>1)
and (lat,lon) in (SELECT lat,lon FROM insurance group by 1,2 having count(*)=1)